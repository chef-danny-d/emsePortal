{"version":3,"sources":["../server/server.js"],"names":["app","use","express","json","options","mongoose","connect","url","then","console","log","catch","err","error","modules","course","users","process","env","NODE_ENV","static","get","req","res","sendFile","path","resolve","__dirname"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AAQA;;AACA;;AACA;;AAGA;;;;AAXA,IAAMA,MAAM,wBAAZ;;AAEA;AACAA,IAAIC,GAAJ,CAAQC,kBAAQC,IAAR,EAAR;;AAEA;;;AAKA;;AAEA,IAAMC,UAAU;AACd,wBAAsB,IADR;AAEd,qBAAmB,IAFL;AAGd,oBAAkB;AAHJ,CAAhB;AAKAC,mBAASC,OAAT,CAAiBC,cAAjB,EAAsBH,OAAtB,EACGI,IADH,CACQ,YAAM;AACVC,UAAQC,GAAR,CAAY,qBAAZ;AAED,CAJH,EAKGC,KALH,CAKS,UAACC,GAAD,EAAS;AACdH,UAAQI,KAAR,CAAcD,GAAd;AACD,CAPH;;AASA;AACAZ,IAAIC,GAAJ,CAAQ,cAAR,EAAwBa,gBAAxB;AACAd,IAAIC,GAAJ,CAAQ,aAAR,EAAuBc,cAAvB;AACAf,IAAIC,GAAJ,CAAQ,YAAR,EAAsBe,YAAtB;;AAEA;AACA,IAAIC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA0C;AACxC;AACAnB,MAAIC,GAAJ,CAAQC,kBAAQkB,MAAR,CAAe,cAAf,CAAR;;AAEApB,MAAIqB,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzBA,QAAIC,QAAJ,CAAaC,eAAKC,OAAL,CAAaC,SAAb,EAAwB,QAAxB,EAAkC,OAAlC,EAA2C,YAA3C,CAAb;AACD,GAFD;AAGD;;kBAEc3B,G","file":"server.js","sourcesContent":["import express from 'express'\nimport mongoose from 'mongoose'\nimport path from 'path'\n\nconst app = express();\n\n//Middleware\napp.use(express.json());\n\n//Router imports\nimport {course as course} from './routes/api/course'\nimport {modules as modules} from './routes/api/modules'\nimport {users as users} from './routes/api/users'\n\n//Database configuration\nimport { MongoURI as url } from './config/keys.js'\nconst options = {\n  'useUnifiedTopology': true,\n  'useNewUrlParser': true,\n  'useCreateIndex': true\n}\nmongoose.connect(url, options)\n  .then(() => {\n    console.log('Connected to db... ');\n    \n  })\n  .catch((err) => {\n    console.error(err);\n  })\n\n//Routes\napp.use('/api/modules', modules);\napp.use('/api/course', course);\napp.use('/api/users', users);\n\n//Serve static assets if in prod\nif (process.env.NODE_ENV === 'production'){\n  //set static dir\n  app.use(express.static('client/build'))\n\n  app.get('*', (req, res) => {\n    res.sendFile(path.resolve(__dirname, 'client', 'build', 'index.html'))\n  })\n}\n\nexport default app"]}