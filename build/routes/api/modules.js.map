{"version":3,"sources":["../../../server/routes/api/modules.js"],"names":["modules","express","Router","get","req","res","next","Module","find","then","data","status","end","json","conf","catch","console","log","err","params","moduleNumber","length","moduleNum","identifier","id","findById"],"mappings":";;;;;;;AAAA;;;;AAEA;;;;;;AADA,IAAMA,UAAWC,kBAAQC,MAAR,EAAjB;;;AAGAF,QAAQG,GAAR,CAAY,GAAZ,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACjCC,qBAAOC,IAAP,GACKC,IADL,CACU,gBAAQ;AACV,YAAI,CAACC,IAAL,EAAU;AACN,mBAAOL,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,GAAvB;AACH,SAFD,MAGI;AACAP,gBAAIM,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB;AACjBC,sBAAM,SADW;AAEjBJ,sBAAMA;AAFW,aAArB;AAIH;AACJ,KAXL,EAYKK,KAZL,CAYW,eAAO;AACVC,gBAAQC,GAAR,CAAYC,GAAZ;AACH,KAdL;AAeH,CAhBD;;AAkBAlB,QAAQG,GAAR,CAAY,gBAAZ,EAA8B,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC9C,QAAIF,IAAIe,MAAJ,CAAWC,YAAX,CAAwBC,MAAxB,GAAiC,CAArC,EAAuC;AACnCf;AACH;AACD,QAAMgB,YAAYlB,IAAIe,MAAJ,CAAWC,YAA7B;AACAb,qBAAOC,IAAP,CAAY;AACRY,sBAAcE;AADN,KAAZ,EAGKb,IAHL,CAGU,gBAAQ;AACV,YAAI,CAACC,IAAL,EAAU;AACN,mBAAOL,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,GAAvB;AACH,SAFD,MAGI;AACAP,gBAAIM,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB;AACjBC,sBAAM,SADW;AAEjBJ,sBAAMA;AAFW,aAArB;AAIH;AACJ,KAbL,EAcKK,KAdL,CAcW,eAAO;AACVC,gBAAQC,GAAR,CAAYC,GAAZ;AACH,KAhBL;AAiBH,CAtBD;;AAwBAlB,QAAQG,GAAR,CAAY,MAAZ,EAAoB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACpC,QAAMiB,aAAanB,IAAIe,MAAJ,CAAWK,EAA9B;AACAjB,qBAAOkB,QAAP,CAAgBF,UAAhB,EACKd,IADL,CACU,gBAAQ;AACV,YAAI,CAACC,IAAL,EAAU;AACN,mBAAOL,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,GAAvB;AACH,SAFD,MAGI;AACAP,gBAAIM,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB;AACjBC,sBAAM,SADW;AAEjBJ,sBAAMA;AAFW,aAArB;AAIH;AACJ,KAXL,EAYKK,KAZL,CAYW,eAAO;AACVC,gBAAQC,GAAR,CAAYC,GAAZ;AACH,KAdL;AAeH,CAjBD;QAkBSlB,O,GAAAA,O","file":"modules.js","sourcesContent":["import express from 'express'\nconst modules =  express.Router()\nimport Module from '../../models/Module'\n\nmodules.get('/', (req, res, next) => {\n    Module.find()\n        .then(data => {\n            if (!data){\n                return res.status(404).end\n            }\n            else{\n                res.status(200).json({\n                    conf: 'success',\n                    data: data\n                })\n            }\n        })\n        .catch(err => {\n            console.log(err)\n        })\n})\n\nmodules.get('/:moduleNumber', (req, res, next) => {\n    if (req.params.moduleNumber.length > 3){\n        next()\n    }\n    const moduleNum = req.params.moduleNumber\n    Module.find({\n        moduleNumber: moduleNum\n    })\n        .then(data => {\n            if (!data){\n                return res.status(404).end\n            }\n            else{\n                res.status(200).json({\n                    conf: 'success',\n                    data: data\n                })\n            }\n        })\n        .catch(err => {\n            console.log(err)\n        })\n})\n\nmodules.get('/:id', (req, res, next) => {\n    const identifier = req.params.id\n    Module.findById(identifier)\n        .then(data => {\n            if (!data){\n                return res.status(404).end\n            }\n            else{\n                res.status(200).json({\n                    conf: 'success',\n                    data: data\n                })\n            }\n        })\n        .catch(err => {\n            console.log(err)\n        })\n})\nexport { modules }\n"]}